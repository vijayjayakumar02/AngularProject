<h1>Reactive Form</h1>

<form [formGroup]="form" (ngSubmit)="submit()">
  <div class="form-group">
    <label for="fname">First Name</label>
    <input
      formControlName="fname"
      id="fname"
      type="text"
      class="form-control"
    />
    <div *ngIf="f.fname.touched && f.fname.invalid" class="alert alert-danger">
      <div *ngIf="f.fname.errors && f.fname.errors.required">
        Name is required
      </div>
      <div *ngIf="f.fname.errors && f.fname.errors.minlength">
        Name should be 3 character
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="lname">Last Name</label>
    <input formControlName="lname" id="name" type="text" class="form-control" />
    <div *ngIf="f.lname.touched && f.lname.invalid" class="alert alert-danger">
      <div *ngIf="f.lname.errors && f.lname.errors.required">
        Last Name is required
      </div>
      <div *ngIf="f.lname.errors && f.lname.errors.minlength">
        Name should be 3 character
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="phoneNumber">Phone Number</label>
    <input
      formControlName="phoneNumber"
      id="ph_number"
      type="number"
      class="form-control"
    />
    <div
      *ngIf="f.phoneNumber.touched && f.phoneNumber.invalid"
      class="alert alert-danger"
    >
      <div *ngIf="f.phoneNumber.errors && f.phoneNumber.errors.required">
        mobile number is required
      </div>
      <div *ngIf="f.phoneNumber.errors && f.phoneNumber.errors.pattern">
        Please, Enter 10 digit Mobile Number.
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="email">Email</label>
    <input
      formControlName="email"
      id="email"
      type="text"
      class="form-control"
    />
    <div *ngIf="f.email.touched && f.email.invalid" class="alert alert-danger">
      <div *ngIf="f.email.errors && f.email.errors.required">
        Email is required.
      </div>
      <div *ngIf="f.email.errors && f.email.errors.email">
        Please, enter valid email address.
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="Address">Address</label>
    <textarea
      formControlName="address"
      id="address"
      type="text"
      class="form-control"
    >
    </textarea>
    <div
      *ngIf="f.address.touched && f.address.invalid"
      class="alert alert-danger"
    >
      <div *ngIf="f.address.errors && f.address.errors.required">
        Address is required.
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="">Country:</label>
    <select [(ngModel)]= "selectedCountry.id" (change)="onSelect($event)">
    <option value="0">--Select--</option>
    <option *ngFor="let country of countries" [value] = "country.id">{{country.name}}</option>
    </select>
    <br/><br/>
  <div class = "form-group">
  <label>State:</label>
  <select>
    <option value="0">--Select--</option>
    <option *ngFor="let state of states " [value] = "state.id">{{state.name}}</option>
  </select>
  </div>
  </div>
  <button class="btn btn-primary" type="submit">Submit</button>
</form>
<app-form-display></app-form-display>
